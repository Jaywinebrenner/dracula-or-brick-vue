(function(a){a.fn.rating=function(){var f;function b(p,n){var i=Math.round(n);if(i>n){n=i;cssClass="fa-star-half-o"}else{cssClass="fa-star"}var o=a(p).find('[data-value="'+n+'"]');o.removeClass("fa-star-o").addClass(cssClass);o.prevAll("[data-value]").removeClass("fa-star-o").addClass("fa-star");o.nextAll("[data-value]").removeClass("fa-star").addClass("fa-star-o")}function j(o){var n=a(o);n.find("[data-value]").removeClass("fa-star").addClass("fa-star-o");var i=n.find("input");i.val("").trigger("change")}for(f=this.length-1;f>=0;f--){var d,g,l=a(this[f]),m=l.val(),k=l.data("max")||5,e=l.data("min")||1,h=l.data("readonly")==1||l.data("readonly")==true||false,c="";for(g=e;g<=k;g++){c+=['<i class="fa fa-star-o" data-value="',g,'"></i>'].join("")}d=['<div class="rating-input">',c,'<input type="hidden" name="',l.attr("name"),'" value="',l.val(),'" id="',l.attr("id"),'" data-min="',e,'" data-max="',k,'" data-readonly="',h,'" />',"</div>"].join("");l.replaceWith(d)}a(".rating-input").each(function(){var i=this;input=a(this).find("input"),val=input.val(),h=input.data("readonly")==1||input.data("readonly")==true||false,e=input.data("min"),k=input.data("max");if(val>=e&&val<=k){b(this,val)}else{j(this)}if(!h){a(i).on("mouseover","[data-value]",function(){var n=a(this);b(n.closest(".rating-input"),n.data("value"))}).on("mouseout","[data-value]",function(){var p=a(this),o=p.siblings("input"),r=o.val(),q=o.data("min"),n=o.data("max");if(r>=q&&r<=n){b(p.closest(".rating-input"),r)}else{j(p.closest(".rating-input"))}}).on("click","[data-value]",function(o){var n=a(this);var p=n.data("value");n.siblings("input").val(p).trigger("change");o.preventDefault();return false})}})};a(function(){if(a("input.rating[type=number]").length>0){a("input.rating[type=number]").rating()}})}(jQuery));